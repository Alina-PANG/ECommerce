<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>View All Products</title>
    <link rel="stylesheet" href="../css/default.css">
    <link rel="stylesheet" href="../css/index.css">
  </head>
  <body>
    <div class="body">
      <div class="header">
        <h1>Point of Sale System (v5.0) :: View All Products</h1>
        <div>
          <form>
            <label for="username">Username</label>
            <input type="text" id="username">
            <label for="password">Password</label>
            <input type="text">
            <input type="button" value="Clear">
            <input type="button" value="Login">
          </form>
        </div>
      </div>
      <div class="content">
        <div class="left">
          <h3>Main Menu</h3>
          <br><br>
          <a href="../index.html">Home</a>
          <br><br>
          <a href="">Logout</a>
          <br><br>
          <section>
            <h4>Cashier Operation</h4>
            <ul>
              <li><a href="">Checkout</a></li>
              <li><a href="">Void/Refund</a></li>
              <li><a style="text-decoration-line: underline;" href="">View My Sale Transaction</a></li>
            </ul>
          </section>
          <section>
            <h4>System Administration</h4>
            <h5>Staff</h5>
            <ul>
              <li><a href="./createNewStaff.html">Create New Staff</a></li>
              <li><a href="./viewStaffDetails.html">View Staff Details</a></li>
              <li><a href="./viewAllStaffs.html">View All Staffs</a></li>
            </ul>
            <h5>Product</h5>
            <ul>
              <li><a href="./createNewProduct.html">Create New Product</a></li>
              <li><a href="./viewProductDetails.html">View Product Details</a></li>
              <li><a href="./viewAllProducts.html">View All Products</a></li>
            </ul>
          </section>
        </div>
        <div class="center">
          <h3>Product Catalogue</h3>
          <div class="search-menu">
            <input type="text" id="search-bar" onkeyup="search_product()" placeholder="Search for products.." title="Type in a product name">
            <select class="form-control" id="select-tag">
                <option value="category">Category</option>
                <option value="tag">Tags</option>
            </select>
          </div>
          <table id="product-table">
            <tr>
              <th>Product ID</th>
              <th>SKU Code</th>
              <th>Name</th>
              <th>Description</th>
              <th>Rating</th>
              <th>Quantity on Hand</th>
              <th>Reorder Quantity</th>
              <th>Unit Price</th>
              <th>Category</th>
            </tr>
          </table>
        </div>
        <div class="right">
          <h3>Advertisement</h3>
          <img src="../images/300x300.png" alt="300">
          <p>Advertisement 1</p>
          <img src="../images/300x300.png" alt="300">
          <p>Advertisement 2</p>
          <img src="../images/300x300.png" alt="300">
          <p>Advertisement 3</p>
        </div>
      </div>
      <div class="footer"><h6>@2019 IS3106. All rights reserved.</h6></div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="../js/products-data-generator.js" charset="utf-8"></script>
  .<script type="text/javascript">
  function search_product() {
    var select_tag = $('#select-tag').find(":selected").text();
    var input, filter, flag, products_table,innerHTML, i;
    input = document.getElementById("search-bar");
    filter = input.value.toUpperCase().split(",");
    products_table = document.getElementById("product-table").childNodes;
    for (i = 2; i < products_table.length; i++) {
      flag = false;
      if(select_tag.toUpperCase() == "CATEGORY"){
        innerHTML = products_table[i].childNodes[8].innerHTML;
      }else if (select_tag.toUpperCase() == "TAG") {
        //pass
        console.log("not implemented yet");
      }
      
      for(var j = 0; j < filter.length; j ++){
        if (innerHTML.toUpperCase().indexOf(filter[j]) > -1){
          flag = true;
          break;
        }
      }

      if (flag) {
        products_table[i].style.display = "";
      } else {
        products_table[i].style.display = "none";
      }
    }
  }
  </script>
</html>
